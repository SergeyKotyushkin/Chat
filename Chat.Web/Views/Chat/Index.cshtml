@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <title>Chat</title>
    <link href="~/Content/Css/common.css" rel="stylesheet"/>
    <link href="~/Content/Css/chat.css" rel="stylesheet"/>
    <link href="~/Content/Css/bootstrap.min.css" rel="stylesheet"/>

    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script src="~/Scripts/ajax.js"></script>
    <script src="~/Scripts/knockout-3.4.0.js"></script>
    <script src="~/Scripts/jquery.signalR-2.2.1.min.js"></script>
    <script src="~/signalr/hubs"></script>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-xs-6">
            <div class="hor-left-parent" data-bind="if: currentUser() != null">
                <span class="h4" data-bind="text: currentUser().UserName"></span>
            </div>
        </div>
        <div class="col-xs-6">
            <div class="hor-right-parent">
                @Html.ActionLink("Close", "Close", "Chat", null, new { @class = "btn btn-link" })
            </div>
        </div>
    </div>
    <div id="alert-error-div" class="row hidden" data-bind="if: hasErrorMessage()">
        <div class="hor-center-parent col-xs-12">
            <div class="alert alert-danger" data-bind="html: errorMessage()"></div>
        </div>
    </div>
    <div id="alert-success-div" class="row hidden" data-bind="if: hasSuccessMessage()">
        <div class="hor-center-parent col-xs-12">
            <div class="alert alert-success" data-bind="html: successMessage()"></div>
        </div>
    </div>
    <div id="chat-div" class="row" data-bind="if: currentUser() != null">
        <div class="col-md-8">
            <div id="chat-panel" class="panel panel-default">
                <div class="panel-heading">
                    <div class="h4 panel-title">Chat here</div>
                </div>
                <div class="panel-body">
                    <div data-bind="if: currentChat() == null" class="centered-parent">
                        <div class="centered-child">
                            <span>Choose some chat</span>
                        </div>
                    </div>
                    <div data-bind="if: currentChat() != null">
                        <div id="chat-messages"></div>
                        <div id="new-message">
                            <input class="btn btn-default" type="button" value="Send" />
                            <div>
                                <input type="text" class="form-control" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div id="chats-panel" class="panel panel-default">
                <div class="panel-heading">
                    <div class="h4 panel-title">
                        <a data-toggle="collapse" href="#chats-collapse">All Chats</a>
                    </div>
                </div>
                <div id="chats-collapse" class="panel-collapse collapse">
                    <div class="panel-body"></div>
                </div>
            </div>

            <div id="users-panel" class="panel panel-default">
                <div class="panel-heading">
                    <div class="h4 panel-title">
                        <a data-toggle="collapse" href="#users-collapse">All Users</a>
                    </div>
                </div>
                <div id="users-collapse" class="panel-collapse collapse">
                    <div class="panel-body">
                        <ul data-bind="foreach: users">
                            <li>
                                <span data-bind="text: UserName"></span>
                                <span data-bind="text: IsOnline ? 'Online': 'Offline'"></span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="new-chat-panel" class="panel panel-default">
                <div class="panel-heading">
                    <div class="h4 panel-title">
                        <a data-toggle="collapse" href="#new-chat-collapse">New Chat</a>
                    </div>
                </div>
                <div id="new-chat-collapse" class="panel-collapse collapse">
                    <div class="panel-body"></div>
                </div>
            </div>
        </div>
    </div>
</div>

@* js load *@
<script src="~/Scripts/chat.js"></script>
</body>
</html>